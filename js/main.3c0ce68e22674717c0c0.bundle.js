/*! For license information please see main.3c0ce68e22674717c0c0.bundle.js.LICENSE.txt */
(self.webpackChunkmahal_app=self.webpackChunkmahal_app||[]).push([[179],{12:(e,t,n)=>{e.exports=n(814)},814:e=>{e.exports={apiUrl:"/"}},108:(e,t)=>{t.S=function({render:e,script:t}){return t.prototype.render=e,t}},236:e=>{(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{Component:()=>N,EventBus:()=>k,Mahal:()=>ke,Plugin:()=>T,addEventListener:()=>se,children:()=>me,computed:()=>be,createComponent:()=>he,createDocumentFragment:()=>ce,directive:()=>ge,emitStateChange:()=>le,executeRender:()=>ee,findElement:()=>ae,forEach:()=>y,forOwn:()=>E,formatter:()=>ve,getAttribute:()=>g,getDataype:()=>x,getObjectKeys:()=>l,getObjectLength:()=>h,hashifyArray:()=>ue,initComponent:()=>ie,insertBefore:()=>oe,isArray:()=>r,isObject:()=>o,lazyComponent:()=>de,merge:()=>u,nextTick:()=>i,promiseResolve:()=>R,prop:()=>_e,reactive:()=>ye,removeEl:()=>re,replaceEl:()=>ne,replaceElWithCtx:()=>te,replaceNullProp:()=>fe,resolveValue:()=>pe,setAttribute:()=>w,setPlainAttribute:()=>b,subscribeToCompDestroy:()=>Z});const r=e=>Array.isArray(e),o=e=>null!=e&&"object"==typeof e;let s=!1,c=new Map;const a=window.queueMicrotask||(e=>{setTimeout(e,0)}),i=e=>{const t=c.size;return c.set(t,e),s||(s=!0,a((()=>{const e=c;c=new Map,s=!1,e.forEach((e=>{e()}))}))),t},l=e=>Object.keys(e),h=e=>e.length||l(e).length,u=(...e)=>Object.assign({},...e),d="_mhlreplaced_",p=["push","pop","splice","shift","unshift","reverse"],f=p.concat(["add","update","delete"]),_="__emit_destroy__",m="__child_destroy__",v=Object.freeze({}),y=(e,t)=>{if(e.forEach)e.forEach(((e,n)=>{t(e,n)}));else for(const n in e)t(e[n],n)},g=(e,t)=>e.getAttribute(t);function b(e,t,n){switch(t){case"class":e.className=e.classList.length>0?e.className+" "+n:n;break;case"key":e._mhlkey_=n;break;default:e.setAttribute(t,n)}}function w(e,t,n){function r(){!1===n?e.removeAttribute(t):b(e,t,n)}switch(t){case"class":if(o(n)){y(n,((t,n)=>{e.classList[t?"add":"remove"](n)}));break}r();break;case"value":switch(e.tagName){case"INPUT":case"TEXTAREA":case"SELECT":return void(e.value=n)}r();break;case"checked":if("INPUT"===e.tagName)switch(g(e,"type")){case"checkbox":case"radio":return void(e.checked=n)}r();break;case"html":e.innerHTML=n;break;case"style":if(o(n)){let e="";y(n,((t,n)=>{e+=`${n}:${t};`})),n=e}default:r()}}const E=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},x=e=>{if(null==e)return"null";const t=typeof e;return"object"===t&&r(e)?"array":t},R=e=>Promise.resolve(e);class k{constructor(e){this._events_=e||{}}on(e,t){let n=this._events_[e];return null==n&&(n=this._events_[e]=new Map),n.set(t,!0),t}off(e,t){const n=this._events_[e];n&&n.delete(t)}eachEvent(e,t){e.forEach(((e,n)=>{t(n)}))}emitAll(e,...t){const n=this.getEvent(e);n&&this.eachEvent(n,(e=>e.call(this._ctx_,...t)))}emit(e,...t){const n=this.getEvent(e);if(!n)return R([]);const r=[];return this.eachEvent(n,(e=>{const n=e.call(this._ctx_,...t);r.push(n)})),Promise.all(r)}emitLinear(e,...t){const n=this.getEvent(e);if(!n)return R([]);const r=new Map(n),o=[],s=r.entries(),c=e=>{if(!e)return R(null);const n=e.call(this._ctx_,...t);return n&&n.then?n:R(n)};return new Promise((e=>{const t=()=>{const n=s.next();n.done?e(o):c(n.value[0]).then((e=>{o.push(e),t()}))};t()}))}destroy(){this._ctx_=null,this._events_=v}getEvent(e){return this._events_[e]}}const C=(e,t)=>{let n=-1;for(const r in e)if(++n,r===t)return n;return-1};class A{constructor(e,t){this.onChange=e,this.comp=t}create(e,t,n=""){const s=this.onChange,c=r(e);(t=t||(c?p:l(e))).forEach((e=>{this.comp._reactives_[n+e]=!0}));const a=ue(t),h=(e,t,r)=>{const o=`${n}${e}.`;return i((e=>{if(null!=r){const e=u(r,t=t||{});for(const n in e)s(`${o}${n}`,t[n],r[n])}})),this.create(t,null,o)};if(c){const t=new Proxy(e,{get:(e,t,r)=>a[t]?(...r)=>{const o=e[t](...r);return s(n+t,r),o}:Reflect.get(e,t,r),set:(e,t,r,o)=>{const c=e[t],a=Reflect.set(e,t,r,o);return s(`${n}update`,{key:t,value:r,oldValue:c}),a}});return t}const d=new Proxy(e,{deleteProperty(e,t){const r=C(e,t),o=Reflect.deleteProperty(e,t);return s(`${n}delete`,{key:t,index:r}),o},set:(e,t,r,c)=>{const i=e[t];let l;const u=()=>{if(o(r)){const n=h(t,r,i);return Reflect.set(e,t,n,c)}return Reflect.set(e,t,r,c)};return a[t]?(l=u(),s(n+t,r,i),n&&s(`${n}update`,{key:t,value:r,oldValue:i}),l):n?(l=u(),void 0!==i?e.hasOwnProperty(t)&&s(`${n}update`,{key:t,value:r,oldValue:i}):s(`${n}add`,{value:r,key:t}),l):Reflect.set(e,t,r,c)}});return t.forEach((t=>{o(e[t])&&(e[t]=h(t,e[t],null))})),d}destroy(){this.onChange=null}}function j(e,t){e.reduce(((e,t)=>e.then((e=>t.call(this,e)))),R(t))}const P="invalid_formatter",O="prop_data_type_mismatch";var M;new Set([]),function(e){e.Create="create",e.Destroy="destroy",e.Update="update",e.Mount="mount",e.Error="error"}(M||(M={}));class N{constructor(){this.isMounted=!1;const e=this,t=()=>v;fe(e,"children",t),fe(e,"_formatters_",t),fe(e,"_directive_",t),fe(e,"_props_",t),fe(e,"_computed_",t),fe(e,"_reactives_",t),e._evBus_=new k(e._events_),e._watchBus_=new k(e._watchers_),e._childComps_=new Set}onInit(){}setState(e,...t){const n=e.split("."),r=this,o=(t,n,o)=>{r._reactives_[e]||le.call(r,t,n,o)},s=t[0];let c;if(n.length>1){const a=r.getState(e),i=n.pop(),l=n.join("."),h=l+".",u=r.getState(l);"function"===x(a)?(u[i](...t),o(h+i,t)):(c=u&&u[i],u[i]=s,void 0!==c?o(`${h}update`,{key:i,value:s,oldValue:c}):o(`${h}add`,{value:s,key:i}))}else c=r[e],r[e]=s,o(e,s,c)}deleteState(e){const t=e.split("."),n=t.pop(),r=t.join("."),o=r+".",s=this.getState(r),c=C(s,n);Reflect.deleteProperty(s,n),le.call(this,o+"delete",{index:c,key:n})}watch(e,t){return this._watchBus_.on(e,t)}unwatch(e,t){this._watchBus_.off(e,t)}on(e,t){return this._evBus_.on(e,t)}off(e,t){this._evBus_.off(e,t)}waitFor(e){let t;return new Promise((n=>{t=()=>{n()},this.on(e,t)})).then((()=>{this.off(e,t)}))}emit(e,...t){return this._evBus_.emit(e,...t)}emitLinear(e,...t){return this._evBus_.emitLinear(e,...t)}find(e){const t=this.element;if(8!==t.nodeType)return t.querySelector(e)}findAll(e){return this.element.querySelectorAll(e)}get outerHTML(){return this.element.outerHTML}format(e,t){const n=this._app_._formatter_;try{const r=n[e];if(r)return r(t);const o=this._formatters_[e];if(o)return o(t)}catch(e){return B.call(this,e,!0)}new W(P,{formatter:e}).throwPlain()}getState(e){return pe(e,this)}get global(){return this._app_.global}getMethod(e){return this[e]}}N.shouldCheckProp=!0;class T{}const S=e=>document.createComment(e||""),$=M.Update,L=e=>{if(e.isMounted){const t=e._timerId_;clearTimeout(t),e._timerId_=setTimeout((()=>{e.emit($)}))}};function B(e,t){t&&console.error(e),this._app_.emit(M.Error,e),this.emit(M.Error,e)}class W{constructor(e,t){this.type=e,this.info_=t,this.msg=this.getMsg_()}logError(){W.error(this.get())}logPlainError(){W.error(this.getPlain())}logWarning(){W.warn(this.get())}get(){return{msg:this.msg,type:this.type}}getPlain(){const e=this.get();return` ${e.msg}\n\ntype : ${e.type}`}getMsg_(){const e=this.info_,t={[O](){let t=`Expected datatype of property ${e.prop} is ${e.exp} but received ${e.got}.\n\n`;return e.template&&(t+=`in template -\n\n"${e.html}"\n\n`),e.file&&(t+=`in file - ${e.file} `),t},[P]:()=>`Can not find formatter "${e.formatter}". Make sure you have registered formatter either in component or globally.`}[this.type];return t?t(this):this.msg}static warn(...e){console.warn("{Mahal warn}:",...e)}static error(...e){console.error("{Mahal error}:",...e)}throwPlain(e){const t="{Mahal throw}:"+this.getPlain();if(e)return t;throw t}}const V=e=>e._mhlkey_;function I(e,t){const n=this;let o=S(),s=[o],c=n.getState(e);const a=new Map,l=(e,n)=>{const r=t(e,n);return a.set(V(r),r),Q(r),r},u=e=>{re(e),a.delete(V(e))};y(c,((e,t)=>{const n=l(e,t);s.push(n)}));const d=r(c),p={[e]:(e,t)=>{_("reset",[t,e])},[`${e}.push`]:e=>{_("push",e)},[`${e}.add`]:e=>{_("add",e)},[`${e}.pop`]:()=>{const e=h(c);_("splice",[e,1])},[`${e}.shift`]:()=>{_("splice",[0,1])},[`${e}.unshift`]:e=>{_("splice",[0,0,e])},[`${e}.reverse`]:()=>{_("reset",[c,[]]),_("reset",[[],c])},[`${e}.splice`]:e=>{_("splice",e)},[`${e}.delete`]:e=>{_("splice",[e.index,1])},[`${e}.update`]:e=>{_("update",e)}};D(o,(()=>{o=null,y(p,((e,t)=>{n.unwatch(t,e)}))}));const _=(e,r)=>{const s=o.parentNode,p=s.childNodes,f=Array.prototype.indexOf.call(p,o),_={push(){const e=r,t=ce(),n=h(c)-e.length;y(e,((e,r)=>{const o=l(e,r+n);t.appendChild(o)})),oe(s,t,p[f+1+n])},reset(){const e=r[0];c=r[1];const n=a.size,o=f+1,i=h(c);if(i>0){if(0===n)return r=c,_.push();let i=0;y(c,((n,c)=>{const h=t(n,c,!0),u=e[c];if(u){const e=t(u,c,!0),d=a.get(e);if(a.has(h)){if(n!==u){const t=a.get(h);h!==e?oe(s,t,p[o+i+1]):(r={key:c,value:n,oldValue:u},_.update())}}else{a.delete(e);const t=l(n,c);ne(d,t)}}else{const e=t(n,c);oe(s,e,p[o+i]),a.set(h,e)}++i}))}for(let e=i;e<n;e++){const e=p[o+i];u(e)}},add(){const e=h(c),t=l(r.value,r.key);oe(s,t,p[f+e])},splice(){const e=f+r[0]+1;for(let t=1;t<=r[1];t++){const t=p[e];t&&u(t)}if(!d)return;const n=ce(),o=r.length,i=new Map;for(let e=2,t=r[0];e<o;e++,t++){const o=l(r[e],t);n.appendChild(o);const s=V(o);i.set(s,!0)}const h=f+1;oe(s,n,p[h+r[0]]);const _=o-2+r[0],m=h+r[0]+o-2;for(let e=0,n=c.length-_;e<n;e++){const n=_+e,r=c[n],o=t(r,n,!0),s=p[m+e],h=V(s);if(h!==o){const e=l(r,n);ne(s,e),i.set(o,!0),i.has(h)||a.delete(h)}}},update(){let e,t=r.key;if(d?t=e=Number(t):e=C(c,t),e<0)return;const n=p[f+1+e],o=n._rc_,s=r.oldValue,a=r.value;n._setVal_(a),o.forEach(((e,t)=>{const n=pe(t,a);pe(t,s)!==n&&e.forEach((e=>{e(n)}))}))}};i((t=>{try{_[e](),L(n)}catch(e){B.call(n,e)}}))};return n.watch(e,p[e]),f.forEach((t=>{const r=`${e}.${t}`;n.watch(r,p[r])})),i((e=>{s=null})),s}N.prototype._handleExp_=function(e,t,n){const r=this;if("for"===n)return I.call(r,t[0],e);let o=e();if(0===t.length)return o;const s=[];Q(o);const c=()=>{s.shift();const n=()=>{try{const t=e();te(r,o,t)?(s.shift(),L(r)):Q(t)}catch(e){B.call(r,e)}},a=()=>{s.push(1),1===s.length&&n()};t.forEach((e=>{r.watch(e,a)})),D(o,(()=>{t.forEach((e=>{r.unwatch(e,a)}));const e=o[d];e&&(o=e,c())})),s.length>0&&n(),L(r)};return c(),o};const D=(e,t)=>{i((n=>{let r=e.__destroyEvents__;r||(e.__destroyEvents__=r=[]),r.push(t),e.dispatchEvent(new window.CustomEvent(m,{bubbles:!0}))}))},F=(e,t)=>{const n=e.__destroyEvents__;n&&(n.forEach((e=>{e()})),e._comp_destroyed_)||t&&e.childNodes.forEach((e=>{F(e,!0)}))},z=e=>{i((t=>{F(e,e[_])}))};N.prototype._handleAttr_=function(e,t,n){const r=n.attr,o={attr:{}},s=(t,n)=>{const r=e._props_[t];if(r){const o=n.v;if(r.type){const e=r.type,n=x(o);e!==n&&this.waitFor(M.Mount).then((r=>{new W(O,{prop:t,exp:e,got:n,html:this.outerHTML,file:this.file_}).logPlainError()}))}return e[t]=o,!0}o[n.k?"rAttr":"attr"][t]=n};r&&E(r,t?(e,t)=>{s(e,t)}:(t,n)=>{b(e,t,n.v)});const c=n.rAttr;if(!c)return o;o.rAttr={};const a=t?(e,t)=>(n,r)=>{N.shouldCheckProp=!1,r.setState(e,t.v),N.shouldCheckProp=!0}:(e,t)=>(n,r)=>{w(r,e,t.v),L(this)},l=new Map,h=e=>{D(e,(()=>{l.forEach(((e,t)=>{this.unwatch(t,e)}))}))},u=(t,r)=>{const o=r.rc;o&&n.rcm()(o,(n=>{a(t,r)(n,e)}))},d=(t,n)=>{const r=n.k;if(!r)return;const o=a(t,n);r.forEach((t=>{const n=t=>{i((n=>{o(t,e)}))};this.watch(t,n),l.set(t,n)}))};if(t)return E(c,((e,t)=>{s(e,t)&&d(e,t),u(e,t)})),l.size>0&&i((t=>{h(e.element)})),o;E(c,((t,n)=>{const r=n.v;w(e,t,r),d(t,n),u(t,n)})),l.size>0&&h(e)},N.prototype._handleDir_=function(e,t,n,r){t&&y(t,((t,o)=>{const s=this._directive_[o]||this._app_._directive_[o];if(!s)return;t.isComponent=n;const c=s.call(this,e,t),a=t.rc;a&&c&&r()(a,(e=>{c.valueUpdated()})),i((r=>{const o=n?e.element:e;if(!c||!o.isConnected)return;c.inserted&&c.inserted();const s=t.props,a=c.valueUpdated;if(0===s.length||null==a)return;const l=[];D(o,(()=>{s.forEach(((e,t)=>{this.unwatch(e,l[t])})),c.destroyed&&c.destroyed()})),s.forEach(((e,n)=>{const r=e=>{i((r=>{o.isConnected&&(t.value[n]=e,a())}))};this.watch(e,r),l.push(r)}))}))}))};const U=function(e,t){if(e)for(const n in e){const r=e[n];t(n,1===r.length?r[0].bind(this):e=>{j.call(this,r,e)})}},H=(e,t)=>{e.element=t,e.isMounted=!0,e.emit(M.Mount)},q=function(e,t,n){switch(e){case null:case void 0:return S();case"in-place":return K.call(this,t,n);default:const r=this,o=r.children[e]||r._app_._component_[e];if(o){const e=e=>{const o=he(e,r._app_),s=r._initComp_(o,n);let c=ee(o);return"SLOT"===c.tagName?c=t[0]:((e,t)=>{if(!e.tagName)return;let n=ae(e,"slot");if(n){const r=e.querySelectorAll("slot"),o=ce(),s=e=>{o.appendChild(e)};let c=0;const a=()=>{o.firstChild||n.childNodes.forEach(s),oe(n.parentElement,o,n.nextSibling),n.remove(),++c,n.deleted=!0};t.forEach((t=>{if("TARGET"===t.tagName){const r=ae(e,`slot[name='${g(t,"name")}']`);r!==n&&(n.done&&a(),n=r),n.done=!0,t.childNodes.forEach(s)}else"default"!==g(n,"name")&&(n=ae(e,"slot[name='default']")),s(t)})),a(),r.length!==c&&r.forEach((e=>{e.deleted||(n=e,a())}))}})(c,t),s&&r._handleAttr_(c,!1,s),H(o,c),c},s=G(o);if(s instanceof Promise){const t=S();return s.then((n=>{const o=e(n);te(r,t,o)})).catch((e=>{B.call(r,e,!0)})),t}return e(s)}const s=document.createElement(e);return t.forEach((e=>{s.appendChild(e)})),n&&(r._handleAttr_(s,!1,n),U.call(r,n.on,((e,t)=>{se(s,e,t)})),r._handleDir_(s,n.dir,!1,n.rcm)),s}},G=e=>e instanceof Promise?e.then((e=>e.default)):e.isLazy?G(e.component()):e;function K(e,t){var n;const r=null===(n=t.rAttr)||void 0===n?void 0:n.of;if(!r)return S();delete t.rAttr.of;const o=r.k;return this._handleExp_((()=>q.call(this,r.v,e,t)),o)}const X=M.Destroy;function J(){const e=this;e.element._comp_destroyed_=!0,e._childComps_.forEach((e=>{e.emit(X)})),e.emit(X).then((t=>{e._evBus_.destroy(),e._watchBus_.destroy(),e._ob_&&e._ob_.destroy(),e.element=e._evBus_=e._ob_=null}))}const Q=e=>{se(e,m,(t=>{t.target!==e&&(t.stopImmediatePropagation(),e[_]=!0)}))},Y={createTextNode:e=>document.createTextNode(e),addRc:function(e,t){e.forEach((e=>{const n=this.get(e);n?n.push(t):this.set(e,[t])}))},createTextNodeWithRc:(e,t,n)=>(n(e,(e=>{t.nodeValue=e})),t),handleExpWithRc:(e,t,n)=>{let r=t();return n(e,(()=>{const e=t();ne(r,e)||(r._setVal_&&(e._setVal_=r._setVal_,e._rc_=r._rc_,e._mhlkey_=r._mhlkey_),r=e)})),r},createEl:q,handleForExpWithRc:(e,t,n)=>{let r=t();return n(e,(()=>{const e=r[0];for(let e=1,t=r.length;e<t;e++){const t=r[e];re(t)}const n=t(),o=ce();o.append(...n),ne(e,o),r=n})),r}},Z=(e,t)=>{D(t,(()=>{e.element===t&&J.call(e)}))},ee=e=>{const t=e._render_().call(e,Y);return Z(e,t),t};function te(e,t,n){if(t===e.element){e.element=n,Z(e,n);const r=e._app_.component;r.element===t&&(r.element=n,Z(r,n))}return ne(t,n)}N.prototype._render_=function(){return this.render||this._app_._compileTemplate_(this.template)};const ne=(e,t)=>{const n=e.nodeType;if(3===n&&t.nodeType===n)return e.nodeValue=t.nodeValue,!0;e[d]=t,z(e),e.replaceWith(t)},re=e=>{z(e),e.remove()},oe=(e,t,n)=>{e.insertBefore(t,n)},se=(e,t,n,r)=>{e.addEventListener(t,n,r)},ce=()=>document.createDocumentFragment(),ae=(e,t)=>e.querySelector(t);function ie(e,t){let n;e.onInit();const r=this._childComps_;e.on("destroy",(()=>{r.delete(e)})),r.add(e),t&&(n=this._handleAttr_(e,!0,t),this._handleDir_(e,t.dir,!0),U.call(this,t.on,((t,n)=>{e.on(t,n)})));const o=e._computed_;for(const t in o){const n=o[t];let r=n.fn.call(e);Object.defineProperty(e,t,{get:()=>r,set(e){r=e}}),n.args.forEach((o=>{let s=[o];switch(x(e[o])){case"array":case"object":s=s.concat(f.map((e=>`${o}.${e}`)))}s.forEach((o=>{e.watch(o,(()=>{const o=n.fn.call(e);e.setState(t,o,r),r=o}))}))}))}return e.emit(M.Create),n}function le(e,t,n){t!==n&&this._watchBus_.emitAll(e,t,n)}N.prototype._initComp_=ie;const he=(e,t)=>{let n=new e;const r=l(n._reactives_);return n._app_=t,r.length>0&&(n=new A(le.bind(n),n).create(n,r)),n._watchBus_._ctx_=n,n._evBus_._ctx_=n,n},ue=e=>{const t={};return e.forEach((e=>{t[e]=!0})),t},de=e=>{if("function"===x(e))return{isLazy:!0,component:e}},pe=(e,t)=>e?e.split(".").reduce(((e,t)=>e&&e[t]),t):t,fe=(e,t,n)=>{e[t]=e[t]||n()},_e=e=>(t,n)=>{const r={};if(fe(t,"_props_",(()=>r)),"function"===x(e)){const t=e.name;e=t.toLowerCase()}e&&!e.type&&(e={type:e}),t._props_[n]=e||{}},me=e=>t=>class extends t{constructor(){super(...arguments),this.children=e}},ve=e=>(t,n,r)=>{const o={};fe(t,"_formatters_",(()=>o)),t._formatters_[e||n]=t[n]},ye=(e,t)=>{const n={};fe(e,"_reactives_",(()=>n)),e._reactives_[t]=!0},ge=e=>(t,n,r)=>{const o={};fe(t,"_directive_",(()=>o)),t._directive_[e||n]=t[n]},be=(...e)=>(t,n,r)=>{const o={};fe(t,"_computed_",(()=>o)),t._computed_[n]={args:e,fn:r.value||r.get}},we=(e,t)=>{const n=()=>{const n=t.value[0];e.style.display=n?"unset":"none"};return n(),{valueUpdated(){n()}}},Ee=function(e,t){const n=t.props[0];return this[n]=e,{destroyed:()=>{this[n]=null}}};class xe extends N{render(){return q.call(this,"slot",[])}}const Re=(e,t)=>{const n=t.params;se(e,n[0],n[1],n[2])};class ke{constructor(e,t){if(this.global={},this.extend={plugin:(e,t)=>{const n=(new e).setup(this,t);if(n&&o(n))for(const e in n){const t=n[e];"function"===x(t)&&(N.prototype[e]=t)}this._plugins_.push(e)},component:(e,t)=>{this._component_[e]=t},formatter:(e,t)=>{this._formatter_[e]=t},directive:(e,t)=>{this._directive_[e]=t},setRenderer:e=>{this._compileTemplate_=e},tag(e){}},this._plugins_=[],this._component_={fragment:xe},this._directive_={},this._formatter_={},this.element="string"===x(t)?ae(document,t):t,null==this.element){const e="mahal-app";let t=ae(document,e);t?t.innerHTML="":(t=document.createElement("div"),t.id=e,document.body.appendChild(t)),this.element=t}const n=this.extend.directive;n("model",(function(e,t){const n=t.props[0],r=t.isComponent;let o;const s=r?"value":(()=>{switch(o=g(e,"type"),o){case"checkbox":case"radio":return"checked";default:return"value"}})(),c={k:[n],get v(){const n=t.value[0];return"radio"===o?n===e.value:n}};this._handleAttr_(e,r,{rAttr:{[s]:c}});const a=e=>{t.value=[e]};r?e.on("input",(e=>{a(e)})):se(e,"input",(e=>{a(e.target["checkbox"===o?"checked":"value"])}))})),n("show",we),n("ref",Ee),n("on",Re),this._createComponent_(e)}_createComponent_(e){const t=this.component=he(e,this),n=e=>e.bind(t);this.on=n(t.on),this.off=n(t.off),this.emit=n(t.emit)}create(e){let t=this.component;ie.call(t,t,e);const n=ee(t);return this.element.appendChild(n),H(t,n),R(t)}}e.exports=n})()},427:(e,t,n)=>{e.exports=n(236)},739:(e,t,n)=>{"use strict";var r=n(427);class o extends r.Component{constructor(){super(...arguments),this.appName="Mahal",this.importantLinks=[{label:"Core Doc",path:"https://ujjwalguptaofficial.github.io/mahal-doc/"},{label:"Examples",path:"https://github.com/ujjwalguptaofficial/mahal-examples"},{label:"Blog",path:"https://medium.com/mahal-js"}]}onInit(){console.log("component initiated"),this.on("create",this.created),this.on("mount",this.mounted),this.on("destroy",this.destroyed)}created(){console.log("component created")}mounted(){console.log("component mounted - UI has been rendered")}destroyed(){console.log("component destroyed - Let's unsubscribe to events")}}!function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);s>3&&c&&Object.defineProperty(t,n,c)}([r.reactive,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],o.prototype,"appName",void 0);var s=n(108);const c=(0,s.S)({script:o,render:function(e){const t=this,n=e.createEl.bind(t),r=e.createTextNode,o=e.addRc,s=e.createTextNodeWithRc;return e.handleExpWithRc,e.handleForExpWithRc,n("div",[n("img",[],{attr:{class:{v:"mahal-app_logo"},src:{v:"img/mahal-logo.png"},alt:{v:"mahal logo"}}}),n("h1",[r("Welcome to the "),t._handleExp_((()=>r(t.appName)),["appName"]),r(" App")]),n("div",[r(" Important Links\t")],{attr:{class:{v:"mahal-app_imp-links-label"}}}),n("div",[...t._handleExp_(((e,t,c)=>{let a;const i={attr:{target:{v:"_blank"}},rAttr:{href:{get v(){return e.path},rc:["path"]}},rcm:()=>a};let l=i.rAttr;return l||(l=i.rAttr={}),l.key||(l.key={v:t}),c?l.key.v:(()=>{const t=new Map;a=o.bind(t);const c=n("a",[s(["label"],r(e.label),a)],i);return c._rc_=t,c._setVal_=t=>{e=t},c})()}),["importantLinks"],"for")],{attr:{class:{v:"mahal-app_imp-links"}}})],{attr:{class:{v:"mahal-app"}}})}});var a=n(462),i=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class h extends r.Component{constructor(){super(...arguments),this.selected=!1}onInit(){}selectColor(e){this.selected=!this.selected,this.emit("selected",this.color,this.selected)}}i([(0,r.prop)(),l("design:type",Object)],h.prototype,"color",void 0),i([r.reactive,l("design:type",Object)],h.prototype,"selected",void 0);const u=(0,s.S)({script:h,render:function(e){const t=this,n=e.createEl.bind(t);return e.createTextNode,e.addRc,e.createTextNodeWithRc,e.handleExpWithRc,e.handleForExpWithRc,n("div",[],{on:{click:[()=>t.selectColor(t.color)]},attr:{class:{v:"color ml-2"}},rAttr:{style:{get v(){return{background:t.color}},k:["color"]},class:{get v(){return{"color--selected":t.selected}},k:["selected"]}}})}});var d=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c};let p=class extends r.Component{onInit(){}selectColor(e,t){this.colors[e]=t}};d([(0,r.prop)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],p.prototype,"colors",void 0),p=d([(0,r.children)({Color:u})],p);const f=p,_=(0,s.S)({script:f,render:function(e){const t=this,n=e.createEl.bind(t),r=(e.createTextNode,e.addRc);return e.createTextNodeWithRc,e.handleExpWithRc,e.handleForExpWithRc,n("div",[...t._handleExp_(((e,o,s)=>{let c;const a={on:{selected:[t.selectColor]},rAttr:{color:{get v(){return o}}}};let i=a.rAttr;return i||(i=a.rAttr={}),i.key||(i.key={v:o}),s?i.key.v:(()=>{const e=new Map;c=r.bind(e);const t=n("Color",[],a);return t._rc_=e,t._setVal_=e=>{},t})()}),["colors"],"for")],{attr:{class:{v:"is-flex"}}})}});var m=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c};let v=class extends r.Component{constructor(){super(...arguments),this.colorRecom=new a.NeuralNetwork({hiddenLayers:[3],inputSize:3,outputSize:1}),this.results=[],this.inputs=[]}onInit(){window.app=this;let e=105,t={};for(;0!=e;)t[this.generateNewColor()]=!1,e--,e%15==0&&(this.inputs.push(t),t={})}getRGBFromHash(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}run(e){const t=this.getRGBFromHash(e),n=[t[0]/255,t[1]/255,t[2]/255];return this.colorRecom.run(n)}train(){let e=0;const t=[];if(this.inputs.forEach((n=>{for(const r in n){const o=this.getRGBFromHash(r);t.push({input:[o[0]/255,o[1]/255,o[2]/255],output:n[r]?(e++,[1]):[0]})}})),e<5)return void alert("Atleast 5 colors needed");const n=this.colorRecom.train(t,{iterations:1e4});if(console.log("state",n),n.error>.01)return alert("Could not run recommendation. Seems like there is no fixed pattern");const r=new Set;for(;r.size<6;){const e=this.generateNewColor();this.run(e)[0]>.95&&r.add(e)}this.results=Array.from(r)}generateNewColor(){const e=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];function t(t){return e[t]}let n="#";for(let r=0;r<6;r++)n+=t(Math.floor(Math.random()*e.length));return n}};m([r.reactive,function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Object)],v.prototype,"results",void 0),v=m([(0,r.children)({ColorRow:_,Color:u})],v);const y=v,g=(0,s.S)({script:y,render:function(e){const t=this,n=e.createEl.bind(t),r=e.createTextNode,o=e.addRc;return e.createTextNodeWithRc,e.handleExpWithRc,e.handleForExpWithRc,n("div",[n("h1",[r("Select your favourite colors")],{attr:{class:{v:"title is-size-4 mt-0 mb-1"}}}),...t._handleExp_(((e,t,s)=>{let c;const a={attr:{class:{v:"is-flex"}}};let i=a.rAttr;return i||(i=a.rAttr={}),i.key||(i.key={v:t}),s?i.key.v:(()=>{const t=new Map;c=o.bind(t);const s=n("div",[n(null,[r(' <h1 class="mr-4">Choose your favourite color:</h1>\n\t\t<input type="color" :model(colorValue) /> ')]),n(null,[r(' <Color :for(selected, color in colors) :color="color" @selected="selectColor(colors,color,index)">\n\t\t</Color> ')]),n("ColorRow",[],{rAttr:{colors:{get v(){return e},rc:[""]}},rcm:()=>c})],a);return s._rc_=t,s._setVal_=t=>{e=t},s})()}),["inputs"],"for"),n("div",[n("button",[r("I am done")],{on:{click:[t.train]},attr:{class:{v:"button is-primary is-large"}}})],{attr:{class:{v:" is-flex mt-4"}}}),n("div",[...t._handleExp_(((e,t,r)=>{let s;const c={rAttr:{color:{get v(){return e},rc:[""]}},rcm:()=>s};let a=c.rAttr;return a||(a=c.rAttr={}),a.key||(a.key={v:t}),r?a.key.v:(()=>{const t=new Map;s=o.bind(t);const r=n("Color",[],c);return r._rc_=t,r._setVal_=t=>{e=t},r})()}),["results"],"for")],{attr:{class:{v:"is-flex mt-4"}}})],{attr:{class:{v:"container is-flex is-flex-direction-column is-align-items-center mt-6"}}})}});let b=class extends r.Component{};b=function(e,t,n,r){var o,s=arguments.length,c=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(s<3?o(c):s>3?o(t,n,c):o(t,n))||c);return s>3&&c&&Object.defineProperty(t,n,c),c}([(0,r.children)({MahalIntro:c,ColorRecommendation:g})],b);const w=b,E=(0,s.S)({script:w,render:function(e){const t=e.createEl.bind(this);return e.createTextNode,e.addRc,e.createTextNodeWithRc,e.handleExpWithRc,e.handleForExpWithRc,t("div",[t("ColorRecommendation",[])])}});var x=n(12),R=n.n(x);const k=new r.Mahal(E,"#app");k.global.env=R(),k.create()}},e=>{e.O(0,[601],(()=>(739,e(e.s=739)))),e.O()}]);