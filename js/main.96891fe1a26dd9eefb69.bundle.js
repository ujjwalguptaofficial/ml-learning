/*! For license information please see main.96891fe1a26dd9eefb69.bundle.js.LICENSE.txt */
(self.webpackChunkmahal_app=self.webpackChunkmahal_app||[]).push([[179],{12:(t,e,n)=>{t.exports=n(814)},814:t=>{t.exports={apiUrl:"/"}},108:(t,e)=>{e.S=function({render:t,script:e}){return e.prototype.render=t,e}},236:t=>{(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{Component:()=>N,EventBus:()=>k,Mahal:()=>kt,Plugin:()=>T,addEventListener:()=>st,children:()=>mt,computed:()=>bt,createComponent:()=>ht,createDocumentFragment:()=>ct,directive:()=>gt,emitStateChange:()=>lt,executeRender:()=>tt,findElement:()=>at,forEach:()=>y,forOwn:()=>E,formatter:()=>vt,getAttribute:()=>g,getDataype:()=>x,getObjectKeys:()=>l,getObjectLength:()=>h,hashifyArray:()=>ut,initComponent:()=>it,insertBefore:()=>ot,isArray:()=>r,isObject:()=>o,lazyComponent:()=>dt,merge:()=>u,nextTick:()=>i,promiseResolve:()=>R,prop:()=>_t,reactive:()=>yt,removeEl:()=>rt,replaceEl:()=>nt,replaceElWithCtx:()=>et,replaceNullProp:()=>ft,resolveValue:()=>pt,setAttribute:()=>w,setPlainAttribute:()=>b,subscribeToCompDestroy:()=>Z});const r=t=>Array.isArray(t),o=t=>null!=t&&"object"==typeof t;let s=!1,c=new Map;const a=window.queueMicrotask||(t=>{setTimeout(t,0)}),i=t=>{const e=c.size;return c.set(e,t),s||(s=!0,a((()=>{const t=c;c=new Map,s=!1,t.forEach((t=>{t()}))}))),e},l=t=>Object.keys(t),h=t=>t.length||l(t).length,u=(...t)=>Object.assign({},...t),d="_mhlreplaced_",p=["push","pop","splice","shift","unshift","reverse"],f=p.concat(["add","update","delete"]),_="__emit_destroy__",m="__child_destroy__",v=Object.freeze({}),y=(t,e)=>{if(t.forEach)t.forEach(((t,n)=>{e(t,n)}));else for(const n in t)e(t[n],n)},g=(t,e)=>t.getAttribute(e);function b(t,e,n){switch(e){case"class":t.className=t.classList.length>0?t.className+" "+n:n;break;case"key":t._mhlkey_=n;break;default:t.setAttribute(e,n)}}function w(t,e,n){function r(){!1===n?t.removeAttribute(e):b(t,e,n)}switch(e){case"class":if(o(n)){y(n,((e,n)=>{t.classList[e?"add":"remove"](n)}));break}r();break;case"value":switch(t.tagName){case"INPUT":case"TEXTAREA":case"SELECT":return void(t.value=n)}r();break;case"checked":if("INPUT"===t.tagName)switch(g(t,"type")){case"checkbox":case"radio":return void(t.checked=n)}r();break;case"html":t.innerHTML=n;break;case"style":if(o(n)){let t="";y(n,((e,n)=>{t+=`${n}:${e};`})),n=t}default:r()}}const E=(t,e)=>{for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])},x=t=>{if(null==t)return"null";const e=typeof t;return"object"===e&&r(t)?"array":e},R=t=>Promise.resolve(t);class k{constructor(t){this._events_=t||{}}on(t,e){let n=this._events_[t];return null==n&&(n=this._events_[t]=new Map),n.set(e,!0),e}off(t,e){const n=this._events_[t];n&&n.delete(e)}eachEvent(t,e){t.forEach(((t,n)=>{e(n)}))}emitAll(t,...e){const n=this.getEvent(t);n&&this.eachEvent(n,(t=>t.call(this._ctx_,...e)))}emit(t,...e){const n=this.getEvent(t);if(!n)return R([]);const r=[];return this.eachEvent(n,(t=>{const n=t.call(this._ctx_,...e);r.push(n)})),Promise.all(r)}emitLinear(t,...e){const n=this.getEvent(t);if(!n)return R([]);const r=new Map(n),o=[],s=r.entries(),c=t=>{if(!t)return R(null);const n=t.call(this._ctx_,...e);return n&&n.then?n:R(n)};return new Promise((t=>{const e=()=>{const n=s.next();n.done?t(o):c(n.value[0]).then((t=>{o.push(t),e()}))};e()}))}destroy(){this._ctx_=null,this._events_=v}getEvent(t){return this._events_[t]}}const C=(t,e)=>{let n=-1;for(const r in t)if(++n,r===e)return n;return-1};class j{constructor(t,e){this.onChange=t,this.comp=e}create(t,e,n=""){const s=this.onChange,c=r(t);(e=e||(c?p:l(t))).forEach((t=>{this.comp._reactives_[n+t]=!0}));const a=ut(e),h=(t,e,r)=>{const o=`${n}${t}.`;return i((t=>{if(null!=r){const t=u(r,e=e||{});for(const n in t)s(`${o}${n}`,e[n],r[n])}})),this.create(e,null,o)};if(c){const e=new Proxy(t,{get:(t,e,r)=>a[e]?(...r)=>{const o=t[e](...r);return s(n+e,r),o}:Reflect.get(t,e,r),set:(t,e,r,o)=>{const c=t[e],a=Reflect.set(t,e,r,o);return s(`${n}update`,{key:e,value:r,oldValue:c}),a}});return e}const d=new Proxy(t,{deleteProperty(t,e){const r=C(t,e),o=Reflect.deleteProperty(t,e);return s(`${n}delete`,{key:e,index:r}),o},set:(t,e,r,c)=>{const i=t[e];let l;const u=()=>{if(o(r)){const n=h(e,r,i);return Reflect.set(t,e,n,c)}return Reflect.set(t,e,r,c)};return a[e]?(l=u(),s(n+e,r,i),n&&s(`${n}update`,{key:e,value:r,oldValue:i}),l):n?(l=u(),void 0!==i?t.hasOwnProperty(e)&&s(`${n}update`,{key:e,value:r,oldValue:i}):s(`${n}add`,{value:r,key:e}),l):Reflect.set(t,e,r,c)}});return e.forEach((e=>{o(t[e])&&(t[e]=h(e,t[e],null))})),d}destroy(){this.onChange=null}}function A(t,e){t.reduce(((t,e)=>t.then((t=>e.call(this,t)))),R(e))}const P="invalid_formatter",O="prop_data_type_mismatch";var M;new Set([]),function(t){t.Create="create",t.Destroy="destroy",t.Update="update",t.Mount="mount",t.Error="error"}(M||(M={}));class N{constructor(){this.isMounted=!1;const t=this,e=()=>v;ft(t,"children",e),ft(t,"_formatters_",e),ft(t,"_directive_",e),ft(t,"_props_",e),ft(t,"_computed_",e),ft(t,"_reactives_",e),t._evBus_=new k(t._events_),t._watchBus_=new k(t._watchers_),t._childComps_=new Set}onInit(){}setState(t,...e){const n=t.split("."),r=this,o=(e,n,o)=>{r._reactives_[t]||lt.call(r,e,n,o)},s=e[0];let c;if(n.length>1){const a=r.getState(t),i=n.pop(),l=n.join("."),h=l+".",u=r.getState(l);"function"===x(a)?(u[i](...e),o(h+i,e)):(c=u&&u[i],u[i]=s,void 0!==c?o(`${h}update`,{key:i,value:s,oldValue:c}):o(`${h}add`,{value:s,key:i}))}else c=r[t],r[t]=s,o(t,s,c)}deleteState(t){const e=t.split("."),n=e.pop(),r=e.join("."),o=r+".",s=this.getState(r),c=C(s,n);Reflect.deleteProperty(s,n),lt.call(this,o+"delete",{index:c,key:n})}watch(t,e){return this._watchBus_.on(t,e)}unwatch(t,e){this._watchBus_.off(t,e)}on(t,e){return this._evBus_.on(t,e)}off(t,e){this._evBus_.off(t,e)}waitFor(t){let e;return new Promise((n=>{e=()=>{n()},this.on(t,e)})).then((()=>{this.off(t,e)}))}emit(t,...e){return this._evBus_.emit(t,...e)}emitLinear(t,...e){return this._evBus_.emitLinear(t,...e)}find(t){const e=this.element;if(8!==e.nodeType)return e.querySelector(t)}findAll(t){return this.element.querySelectorAll(t)}get outerHTML(){return this.element.outerHTML}format(t,e){const n=this._app_._formatter_;try{const r=n[t];if(r)return r(e);const o=this._formatters_[t];if(o)return o(e)}catch(t){return B.call(this,t,!0)}new W(P,{formatter:t}).throwPlain()}getState(t){return pt(t,this)}get global(){return this._app_.global}getMethod(t){return this[t]}}N.shouldCheckProp=!0;class T{}const $=t=>document.createComment(t||""),S=M.Update,L=t=>{if(t.isMounted){const e=t._timerId_;clearTimeout(e),t._timerId_=setTimeout((()=>{t.emit(S)}))}};function B(t,e){e&&console.error(t),this._app_.emit(M.Error,t),this.emit(M.Error,t)}class W{constructor(t,e){this.type=t,this.info_=e,this.msg=this.getMsg_()}logError(){W.error(this.get())}logPlainError(){W.error(this.getPlain())}logWarning(){W.warn(this.get())}get(){return{msg:this.msg,type:this.type}}getPlain(){const t=this.get();return` ${t.msg}\n\ntype : ${t.type}`}getMsg_(){const t=this.info_,e={[O](){let e=`Expected datatype of property ${t.prop} is ${t.exp} but received ${t.got}.\n\n`;return t.template&&(e+=`in template -\n\n"${t.html}"\n\n`),t.file&&(e+=`in file - ${t.file} `),e},[P]:()=>`Can not find formatter "${t.formatter}". Make sure you have registered formatter either in component or globally.`}[this.type];return e?e(this):this.msg}static warn(...t){console.warn("{Mahal warn}:",...t)}static error(...t){console.error("{Mahal error}:",...t)}throwPlain(t){const e="{Mahal throw}:"+this.getPlain();if(t)return e;throw e}}const V=t=>t._mhlkey_;function I(t,e){const n=this;let o=$(),s=[o],c=n.getState(t);const a=new Map,l=(t,n)=>{const r=e(t,n);return a.set(V(r),r),Q(r),r},u=t=>{rt(t),a.delete(V(t))};y(c,((t,e)=>{const n=l(t,e);s.push(n)}));const d=r(c),p={[t]:(t,e)=>{_("reset",[e,t])},[`${t}.push`]:t=>{_("push",t)},[`${t}.add`]:t=>{_("add",t)},[`${t}.pop`]:()=>{const t=h(c);_("splice",[t,1])},[`${t}.shift`]:()=>{_("splice",[0,1])},[`${t}.unshift`]:t=>{_("splice",[0,0,t])},[`${t}.reverse`]:()=>{_("reset",[c,[]]),_("reset",[[],c])},[`${t}.splice`]:t=>{_("splice",t)},[`${t}.delete`]:t=>{_("splice",[t.index,1])},[`${t}.update`]:t=>{_("update",t)}};D(o,(()=>{o=null,y(p,((t,e)=>{n.unwatch(e,t)}))}));const _=(t,r)=>{const s=o.parentNode,p=s.childNodes,f=Array.prototype.indexOf.call(p,o),_={push(){const t=r,e=ct(),n=h(c)-t.length;y(t,((t,r)=>{const o=l(t,r+n);e.appendChild(o)})),ot(s,e,p[f+1+n])},reset(){const t=r[0];c=r[1];const n=a.size,o=f+1,i=h(c);if(i>0){if(0===n)return r=c,_.push();let i=0;y(c,((n,c)=>{const h=e(n,c,!0),u=t[c];if(u){const t=e(u,c,!0),d=a.get(t);if(a.has(h)){if(n!==u){const e=a.get(h);h!==t?ot(s,e,p[o+i+1]):(r={key:c,value:n,oldValue:u},_.update())}}else{a.delete(t);const e=l(n,c);nt(d,e)}}else{const t=e(n,c);ot(s,t,p[o+i]),a.set(h,t)}++i}))}for(let t=i;t<n;t++){const t=p[o+i];u(t)}},add(){const t=h(c),e=l(r.value,r.key);ot(s,e,p[f+t])},splice(){const t=f+r[0]+1;for(let e=1;e<=r[1];e++){const e=p[t];e&&u(e)}if(!d)return;const n=ct(),o=r.length,i=new Map;for(let t=2,e=r[0];t<o;t++,e++){const o=l(r[t],e);n.appendChild(o);const s=V(o);i.set(s,!0)}const h=f+1;ot(s,n,p[h+r[0]]);const _=o-2+r[0],m=h+r[0]+o-2;for(let t=0,n=c.length-_;t<n;t++){const n=_+t,r=c[n],o=e(r,n,!0),s=p[m+t],h=V(s);if(h!==o){const t=l(r,n);nt(s,t),i.set(o,!0),i.has(h)||a.delete(h)}}},update(){let t,e=r.key;if(d?e=t=Number(e):t=C(c,e),t<0)return;const n=p[f+1+t],o=n._rc_,s=r.oldValue,a=r.value;n._setVal_(a),o.forEach(((t,e)=>{const n=pt(e,a);pt(e,s)!==n&&t.forEach((t=>{t(n)}))}))}};i((e=>{try{_[t](),L(n)}catch(t){B.call(n,t)}}))};return n.watch(t,p[t]),f.forEach((e=>{const r=`${t}.${e}`;n.watch(r,p[r])})),i((t=>{s=null})),s}N.prototype._handleExp_=function(t,e,n){const r=this;if("for"===n)return I.call(r,e[0],t);let o=t();if(0===e.length)return o;const s=[];Q(o);const c=()=>{s.shift();const n=()=>{try{const e=t();et(r,o,e)?(s.shift(),L(r)):Q(e)}catch(t){B.call(r,t)}},a=()=>{s.push(1),1===s.length&&n()};e.forEach((t=>{r.watch(t,a)})),D(o,(()=>{e.forEach((t=>{r.unwatch(t,a)}));const t=o[d];t&&(o=t,c())})),s.length>0&&n(),L(r)};return c(),o};const D=(t,e)=>{i((n=>{let r=t.__destroyEvents__;r||(t.__destroyEvents__=r=[]),r.push(e),t.dispatchEvent(new window.CustomEvent(m,{bubbles:!0}))}))},F=(t,e)=>{const n=t.__destroyEvents__;n&&(n.forEach((t=>{t()})),t._comp_destroyed_)||e&&t.childNodes.forEach((t=>{F(t,!0)}))},z=t=>{i((e=>{F(t,t[_])}))};N.prototype._handleAttr_=function(t,e,n){const r=n.attr,o={attr:{}},s=(e,n)=>{const r=t._props_[e];if(r){const o=n.v;if(r.type){const t=r.type,n=x(o);t!==n&&this.waitFor(M.Mount).then((r=>{new W(O,{prop:e,exp:t,got:n,html:this.outerHTML,file:this.file_}).logPlainError()}))}return t[e]=o,!0}o[n.k?"rAttr":"attr"][e]=n};r&&E(r,e?(t,e)=>{s(t,e)}:(e,n)=>{b(t,e,n.v)});const c=n.rAttr;if(!c)return o;o.rAttr={};const a=e?(t,e)=>(n,r)=>{N.shouldCheckProp=!1,r.setState(t,e.v),N.shouldCheckProp=!0}:(t,e)=>(n,r)=>{w(r,t,e.v),L(this)},l=new Map,h=t=>{D(t,(()=>{l.forEach(((t,e)=>{this.unwatch(e,t)}))}))},u=(e,r)=>{const o=r.rc;o&&n.rcm()(o,(n=>{a(e,r)(n,t)}))},d=(e,n)=>{const r=n.k;if(!r)return;const o=a(e,n);r.forEach((e=>{const n=e=>{i((n=>{o(e,t)}))};this.watch(e,n),l.set(e,n)}))};if(e)return E(c,((t,e)=>{s(t,e)&&d(t,e),u(t,e)})),l.size>0&&i((e=>{h(t.element)})),o;E(c,((e,n)=>{const r=n.v;w(t,e,r),d(e,n),u(e,n)})),l.size>0&&h(t)},N.prototype._handleDir_=function(t,e,n,r){e&&y(e,((e,o)=>{const s=this._directive_[o]||this._app_._directive_[o];if(!s)return;e.isComponent=n;const c=s.call(this,t,e),a=e.rc;a&&c&&r()(a,(t=>{c.valueUpdated()})),i((r=>{const o=n?t.element:t;if(!c||!o.isConnected)return;c.inserted&&c.inserted();const s=e.props,a=c.valueUpdated;if(0===s.length||null==a)return;const l=[];D(o,(()=>{s.forEach(((t,e)=>{this.unwatch(t,l[e])})),c.destroyed&&c.destroyed()})),s.forEach(((t,n)=>{const r=t=>{i((r=>{o.isConnected&&(e.value[n]=t,a())}))};this.watch(t,r),l.push(r)}))}))}))};const U=function(t,e){if(t)for(const n in t){const r=t[n];e(n,1===r.length?r[0].bind(this):t=>{A.call(this,r,t)})}},H=(t,e)=>{t.element=e,t.isMounted=!0,t.emit(M.Mount)},q=function(t,e,n){switch(t){case null:case void 0:return $();case"in-place":return K.call(this,e,n);default:const r=this,o=r.children[t]||r._app_._component_[t];if(o){const t=t=>{const o=ht(t,r._app_),s=r._initComp_(o,n);let c=tt(o);return"SLOT"===c.tagName?c=e[0]:((t,e)=>{if(!t.tagName)return;let n=at(t,"slot");if(n){const r=t.querySelectorAll("slot"),o=ct(),s=t=>{o.appendChild(t)};let c=0;const a=()=>{o.firstChild||n.childNodes.forEach(s),ot(n.parentElement,o,n.nextSibling),n.remove(),++c,n.deleted=!0};e.forEach((e=>{if("TARGET"===e.tagName){const r=at(t,`slot[name='${g(e,"name")}']`);r!==n&&(n.done&&a(),n=r),n.done=!0,e.childNodes.forEach(s)}else"default"!==g(n,"name")&&(n=at(t,"slot[name='default']")),s(e)})),a(),r.length!==c&&r.forEach((t=>{t.deleted||(n=t,a())}))}})(c,e),s&&r._handleAttr_(c,!1,s),H(o,c),c},s=G(o);if(s instanceof Promise){const e=$();return s.then((n=>{const o=t(n);et(r,e,o)})).catch((t=>{B.call(r,t,!0)})),e}return t(s)}const s=document.createElement(t);return e.forEach((t=>{s.appendChild(t)})),n&&(r._handleAttr_(s,!1,n),U.call(r,n.on,((t,e)=>{st(s,t,e)})),r._handleDir_(s,n.dir,!1,n.rcm)),s}},G=t=>t instanceof Promise?t.then((t=>t.default)):t.isLazy?G(t.component()):t;function K(t,e){var n;const r=null===(n=e.rAttr)||void 0===n?void 0:n.of;if(!r)return $();delete e.rAttr.of;const o=r.k;return this._handleExp_((()=>q.call(this,r.v,t,e)),o)}const X=M.Destroy;function J(){const t=this;t.element._comp_destroyed_=!0,t._childComps_.forEach((t=>{t.emit(X)})),t.emit(X).then((e=>{t._evBus_.destroy(),t._watchBus_.destroy(),t._ob_&&t._ob_.destroy(),t.element=t._evBus_=t._ob_=null}))}const Q=t=>{st(t,m,(e=>{e.target!==t&&(e.stopImmediatePropagation(),t[_]=!0)}))},Y={createTextNode:t=>document.createTextNode(t),addRc:function(t,e){t.forEach((t=>{const n=this.get(t);n?n.push(e):this.set(t,[e])}))},createTextNodeWithRc:(t,e,n)=>(n(t,(t=>{e.nodeValue=t})),e),handleExpWithRc:(t,e,n)=>{let r=e();return n(t,(()=>{const t=e();nt(r,t)||(r._setVal_&&(t._setVal_=r._setVal_,t._rc_=r._rc_,t._mhlkey_=r._mhlkey_),r=t)})),r},createEl:q,handleForExpWithRc:(t,e,n)=>{let r=e();return n(t,(()=>{const t=r[0];for(let t=1,e=r.length;t<e;t++){const e=r[t];rt(e)}const n=e(),o=ct();o.append(...n),nt(t,o),r=n})),r}},Z=(t,e)=>{D(e,(()=>{t.element===e&&J.call(t)}))},tt=t=>{const e=t._render_().call(t,Y);return Z(t,e),e};function et(t,e,n){if(e===t.element){t.element=n,Z(t,n);const r=t._app_.component;r.element===e&&(r.element=n,Z(r,n))}return nt(e,n)}N.prototype._render_=function(){return this.render||this._app_._compileTemplate_(this.template)};const nt=(t,e)=>{const n=t.nodeType;if(3===n&&e.nodeType===n)return t.nodeValue=e.nodeValue,!0;t[d]=e,z(t),t.replaceWith(e)},rt=t=>{z(t),t.remove()},ot=(t,e,n)=>{t.insertBefore(e,n)},st=(t,e,n,r)=>{t.addEventListener(e,n,r)},ct=()=>document.createDocumentFragment(),at=(t,e)=>t.querySelector(e);function it(t,e){let n;t.onInit();const r=this._childComps_;t.on("destroy",(()=>{r.delete(t)})),r.add(t),e&&(n=this._handleAttr_(t,!0,e),this._handleDir_(t,e.dir,!0),U.call(this,e.on,((e,n)=>{t.on(e,n)})));const o=t._computed_;for(const e in o){const n=o[e];let r=n.fn.call(t);Object.defineProperty(t,e,{get:()=>r,set(t){r=t}}),n.args.forEach((o=>{let s=[o];switch(x(t[o])){case"array":case"object":s=s.concat(f.map((t=>`${o}.${t}`)))}s.forEach((o=>{t.watch(o,(()=>{const o=n.fn.call(t);t.setState(e,o,r),r=o}))}))}))}return t.emit(M.Create),n}function lt(t,e,n){e!==n&&this._watchBus_.emitAll(t,e,n)}N.prototype._initComp_=it;const ht=(t,e)=>{let n=new t;const r=l(n._reactives_);return n._app_=e,r.length>0&&(n=new j(lt.bind(n),n).create(n,r)),n._watchBus_._ctx_=n,n._evBus_._ctx_=n,n},ut=t=>{const e={};return t.forEach((t=>{e[t]=!0})),e},dt=t=>{if("function"===x(t))return{isLazy:!0,component:t}},pt=(t,e)=>t?t.split(".").reduce(((t,e)=>t&&t[e]),e):e,ft=(t,e,n)=>{t[e]=t[e]||n()},_t=t=>(e,n)=>{const r={};if(ft(e,"_props_",(()=>r)),"function"===x(t)){const e=t.name;t=e.toLowerCase()}t&&!t.type&&(t={type:t}),e._props_[n]=t||{}},mt=t=>e=>class extends e{constructor(){super(...arguments),this.children=t}},vt=t=>(e,n,r)=>{const o={};ft(e,"_formatters_",(()=>o)),e._formatters_[t||n]=e[n]},yt=(t,e)=>{const n={};ft(t,"_reactives_",(()=>n)),t._reactives_[e]=!0},gt=t=>(e,n,r)=>{const o={};ft(e,"_directive_",(()=>o)),e._directive_[t||n]=e[n]},bt=(...t)=>(e,n,r)=>{const o={};ft(e,"_computed_",(()=>o)),e._computed_[n]={args:t,fn:r.value||r.get}},wt=(t,e)=>{const n=()=>{const n=e.value[0];t.style.display=n?"unset":"none"};return n(),{valueUpdated(){n()}}},Et=function(t,e){const n=e.props[0];return this[n]=t,{destroyed:()=>{this[n]=null}}};class xt extends N{render(){return q.call(this,"slot",[])}}const Rt=(t,e)=>{const n=e.params;st(t,n[0],n[1],n[2])};class kt{constructor(t,e){if(this.global={},this.extend={plugin:(t,e)=>{const n=(new t).setup(this,e);if(n&&o(n))for(const t in n){const e=n[t];"function"===x(e)&&(N.prototype[t]=e)}this._plugins_.push(t)},component:(t,e)=>{this._component_[t]=e},formatter:(t,e)=>{this._formatter_[t]=e},directive:(t,e)=>{this._directive_[t]=e},setRenderer:t=>{this._compileTemplate_=t},tag(t){}},this._plugins_=[],this._component_={fragment:xt},this._directive_={},this._formatter_={},this.element="string"===x(e)?at(document,e):e,null==this.element){const t="mahal-app";let e=at(document,t);e?e.innerHTML="":(e=document.createElement("div"),e.id=t,document.body.appendChild(e)),this.element=e}const n=this.extend.directive;n("model",(function(t,e){const n=e.props[0],r=e.isComponent;let o;const s=r?"value":(()=>{switch(o=g(t,"type"),o){case"checkbox":case"radio":return"checked";default:return"value"}})(),c={k:[n],get v(){const n=e.value[0];return"radio"===o?n===t.value:n}};this._handleAttr_(t,r,{rAttr:{[s]:c}});const a=t=>{e.value=[t]};r?t.on("input",(t=>{a(t)})):st(t,"input",(t=>{a(t.target["checkbox"===o?"checked":"value"])}))})),n("show",wt),n("ref",Et),n("on",Rt),this._createComponent_(t)}_createComponent_(t){const e=this.component=ht(t,this),n=t=>t.bind(e);this.on=n(e.on),this.off=n(e.off),this.emit=n(e.emit)}create(t){let e=this.component;it.call(e,e,t);const n=tt(e);return this.element.appendChild(n),H(e,n),R(e)}}t.exports=n})()},427:(t,e,n)=>{t.exports=n(236)},982:(t,e,n)=>{"use strict";var r=n(427);class o extends r.Component{constructor(){super(...arguments),this.appName="Mahal",this.importantLinks=[{label:"Core Doc",path:"https://ujjwalguptaofficial.github.io/mahal-doc/"},{label:"Examples",path:"https://github.com/ujjwalguptaofficial/mahal-examples"},{label:"Blog",path:"https://medium.com/mahal-js"}]}onInit(){console.log("component initiated"),this.on("create",this.created),this.on("mount",this.mounted),this.on("destroy",this.destroyed)}created(){console.log("component created")}mounted(){console.log("component mounted - UI has been rendered")}destroyed(){console.log("component destroyed - Let's unsubscribe to events")}}!function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);s>3&&c&&Object.defineProperty(e,n,c)}([r.reactive,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],o.prototype,"appName",void 0);var s=n(108);const c=(0,s.S)({script:o,render:function(t){const e=this,n=t.createEl.bind(e),r=t.createTextNode,o=t.addRc,s=t.createTextNodeWithRc;return t.handleExpWithRc,t.handleForExpWithRc,n("div",[n("img",[],{attr:{class:{v:"mahal-app_logo"},src:{v:"img/mahal-logo.png"},alt:{v:"mahal logo"}}}),n("h1",[r("Welcome to the "),e._handleExp_((()=>r(e.appName)),["appName"]),r(" App")]),n("div",[r(" Important Links\t")],{attr:{class:{v:"mahal-app_imp-links-label"}}}),n("div",[...e._handleExp_(((t,e,c)=>{let a;const i={attr:{target:{v:"_blank"}},rAttr:{href:{get v(){return t.path},rc:["path"]}},rcm:()=>a};let l=i.rAttr;return l||(l=i.rAttr={}),l.key||(l.key={v:e}),c?l.key.v:(()=>{const e=new Map;a=o.bind(e);const c=n("a",[s(["label"],r(t.label),a)],i);return c._rc_=e,c._setVal_=e=>{t=e},c})()}),["importantLinks"],"for")],{attr:{class:{v:"mahal-app_imp-links"}}})],{attr:{class:{v:"mahal-app"}}})}});var a=n(462),i=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};class h extends r.Component{constructor(){super(...arguments),this.selected=!1}onInit(){}selectColor(t){this.selected=!this.selected,this.emit("selected",this.color,this.selected)}}i([(0,r.prop)(),l("design:type",Object)],h.prototype,"color",void 0),i([r.reactive,l("design:type",Object)],h.prototype,"selected",void 0);const u=(0,s.S)({script:h,render:function(t){const e=this,n=t.createEl.bind(e);return t.createTextNode,t.addRc,t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[],{on:{click:[()=>e.selectColor(e.color)]},attr:{class:{v:"color ml-2"}},rAttr:{style:{get v(){return{background:e.color}},k:["color"]},class:{get v(){return{"color--selected":e.selected}},k:["selected"]}}})}});var d=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c};let p=class extends r.Component{onInit(){}selectColor(t,e){this.colors[t]=e}};d([(0,r.prop)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],p.prototype,"colors",void 0),p=d([(0,r.children)({Color:u})],p);const f=p,_=(0,s.S)({script:f,render:function(t){const e=this,n=t.createEl.bind(e),r=(t.createTextNode,t.addRc);return t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[...e._handleExp_(((t,o,s)=>{let c;const a={on:{selected:[e.selectColor]},rAttr:{color:{get v(){return o}}}};let i=a.rAttr;return i||(i=a.rAttr={}),i.key||(i.key={v:o}),s?i.key.v:(()=>{const t=new Map;c=r.bind(t);const e=n("Color",[],a);return e._rc_=t,e._setVal_=t=>{},e})()}),["colors"],"for")],{attr:{class:{v:"is-flex"}}})}});var m=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c};let v=class extends r.Component{constructor(){super(...arguments),this.colorRecom=new a.NeuralNetwork({hiddenLayers:[3],inputSize:3,outputSize:1}),this.results=[],this.inputs=[]}onInit(){window.app=this;let t=105,e={};for(;0!=t;)e[this.generateNewColor()]=!1,t--,t%15==0&&(this.inputs.push(e),e={})}getRGBFromHash(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}run(t){const e=this.getRGBFromHash(t),n=[e[0]/255,e[1]/255,e[2]/255];return this.colorRecom.run(n)}train(){const t=[];this.inputs.forEach((e=>{for(const n in e){const r=this.getRGBFromHash(n);t.push({input:[r[0]/255,r[1]/255,r[2]/255],output:[e[n]?1:0]})}}));const e=this.colorRecom.train(t,{iterations:1e4});console.log("state",e);let n=6;for(;0!=n;){const t=this.generateNewColor();this.run(t)[0]>.9&&(n--,this.results.push(t))}}generateNewColor(){const t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];function e(e){return t[e]}let n="#";for(let r=0;r<6;r++)n+=e(Math.floor(Math.random()*t.length));return n}};m([r.reactive,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],v.prototype,"results",void 0),v=m([(0,r.children)({ColorRow:_})],v);const y=v,g=(0,s.S)({script:y,render:function(t){const e=this,n=t.createEl.bind(e),r=t.createTextNode,o=t.addRc;return t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[...e._handleExp_(((t,e,s)=>{let c;const a={attr:{class:{v:"is-flex"}}};let i=a.rAttr;return i||(i=a.rAttr={}),i.key||(i.key={v:e}),s?i.key.v:(()=>{const e=new Map;c=o.bind(e);const s=n("div",[n(null,[r(' <h1 class="mr-4">Choose your favourite color:</h1>\n\t\t<input type="color" :model(colorValue) /> ')]),n(null,[r(' <Color :for(selected, color in colors) :color="color" @selected="selectColor(colors,color,index)">\n\t\t</Color> ')]),n("ColorRow",[],{rAttr:{colors:{get v(){return t},rc:[""]}},rcm:()=>c})],a);return s._rc_=e,s._setVal_=e=>{t=e},s})()}),["inputs"],"for"),n("div",[n("button",[r("I am done")],{on:{click:[e.train]},attr:{class:{v:"button is-primary is-large"}}})],{attr:{class:{v:" is-flex mt-4"}}}),n("div",[...e._handleExp_(((t,e,r)=>{let s;const c={attr:{class:{v:"box ml-2"}},rAttr:{style:{get v(){return{background:t}},rc:[""]}},rcm:()=>s};let a=c.rAttr;return a||(a=c.rAttr={}),a.key||(a.key={v:e}),r?a.key.v:(()=>{const e=new Map;s=o.bind(e);const r=n("div",[],c);return r._rc_=e,r._setVal_=e=>{t=e},r})()}),["results"],"for")],{attr:{class:{v:"is-flex mt-4"}}})],{attr:{class:{v:"container is-flex is-flex-direction-column is-align-items-center mt-6"}}})}});let b=class extends r.Component{};b=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c}([(0,r.children)({MahalIntro:c,ColorRecommendation:g})],b);const w=b,E=(0,s.S)({script:w,render:function(t){const e=t.createEl.bind(this);return t.createTextNode,t.addRc,t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,e("div",[e("ColorRecommendation",[])])}});var x=n(12),R=n.n(x);const k=new r.Mahal(E,"#app");k.global.env=R(),k.create()}},t=>{t.O(0,[601],(()=>(982,t(t.s=982)))),t.O()}]);