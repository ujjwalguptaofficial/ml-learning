/*! For license information please see main.d6d23e47cc72c3a5da62.bundle.js.LICENSE.txt */
(self.webpackChunkmahal_app=self.webpackChunkmahal_app||[]).push([[179],{12:(t,e,n)=>{t.exports=n(814)},814:t=>{t.exports={apiUrl:"/"}},108:(t,e)=>{e.S=function({render:t,script:e}){return e.prototype.render=t,e}},236:t=>{(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{Component:()=>N,EventBus:()=>C,Mahal:()=>Mt,Plugin:()=>$,addEventListener:()=>lt,children:()=>Et,computed:()=>At,createComponent:()=>ft,createDocumentFragment:()=>ht,directive:()=>Ct,emitStateChange:()=>pt,executeRender:()=>ot,findElement:()=>ut,forEach:()=>g,forOwn:()=>x,formatter:()=>xt,getAttribute:()=>b,getDataype:()=>R,getObjectKeys:()=>l,getObjectLength:()=>h,hashifyArray:()=>_t,initComponent:()=>dt,insertBefore:()=>at,isArray:()=>r,isObject:()=>o,lazyComponent:()=>mt,merge:()=>u,nextTick:()=>a,promiseResolve:()=>k,prop:()=>bt,reactive:()=>kt,removeEl:()=>it,replaceEl:()=>ct,replaceElWithCtx:()=>st,replaceNullProp:()=>yt,resolveValue:()=>vt,setAttribute:()=>E,setPlainAttribute:()=>w,subscribeToCompDestroy:()=>rt});const r=t=>Array.isArray(t),o=t=>null!=t&&"object"==typeof t;let s=!1,c=new Map;const i=window.queueMicrotask||(t=>{setTimeout(t,0)}),a=t=>{const e=c.size;return c.set(e,t),s||(s=!0,i((()=>{const t=c;c=new Map,s=!1,t.forEach((t=>{t()}))}))),e},l=t=>Object.keys(t),h=t=>t.length||l(t).length,u=(...t)=>Object.assign({},...t),d="_mhlreplaced_",p="_mhlkey_",f=["push","pop","splice","shift","unshift","reverse"],_=f.concat(["add","update","delete"]),m="__emit_destroy__",v="__child_destroy__",y=Object.freeze({}),g=(t,e)=>{if(t.forEach)t.forEach(((t,n)=>{e(t,n)}));else for(const n in t)e(t[n],n)},b=(t,e)=>t.getAttribute(e);function w(t,e,n){switch(e){case"class":t.className=t.classList.length>0?t.className+" "+n:n;break;case"key":t[p]=n;break;default:t.setAttribute(e,n)}}function E(t,e,n){function r(){!1===n?t.removeAttribute(e):w(t,e,n)}switch(e){case"class":if(o(n)){g(n,((e,n)=>{t.classList[e?"add":"remove"](n)}));break}r();break;case"value":switch(t.tagName){case"INPUT":case"TEXTAREA":case"SELECT":return void(t.value=n)}r();break;case"checked":if("INPUT"===t.tagName)switch(b(t,"type")){case"checkbox":case"radio":return void(t.checked=n)}r();break;case"html":t.innerHTML=n;break;case"show":let e=t._mhl_display_;null==e&&(e=t._mhl_display_=getComputedStyle(t).display),t.style.display=n?e:"none";break;case"style":if(o(n)){let t="";g(n,((e,n)=>{t+=`${n}:${e};`})),n=t}default:r()}}const x=(t,e)=>{for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])},R=t=>{if(null==t)return"null";const e=typeof t;return"object"===e&&r(t)?"array":e},k=t=>Promise.resolve(t);class C{constructor(t){this._events_=t||{}}on(t,e){let n=this._events_[t];return null==n&&(n=this._events_[t]=new Map),n.set(e,!0),e}off(t,e){const n=this._events_[t];n&&n.delete(e)}eachEvent(t,e){t.forEach(((t,n)=>{e(n)}))}emitAll(t,...e){const n=this.getEvent(t);n&&this.eachEvent(n,(t=>t.call(this._ctx_,...e)))}emit(t,...e){const n=this.getEvent(t);if(!n)return k([]);const r=[];return this.eachEvent(n,(t=>{const n=t.call(this._ctx_,...e);r.push(n)})),Promise.all(r)}emitLinear(t,...e){const n=this.getEvent(t);if(!n)return k([]);const r=new Map(n),o=[],s=r.entries(),c=t=>{if(!t)return k(null);const n=t.call(this._ctx_,...e);return n&&n.then?n:k(n)};return new Promise((t=>{const e=()=>{const n=s.next();n.done?t(o):c(n.value[0]).then((t=>{o.push(t),e()}))};e()}))}destroy(){this._ctx_=null,this._events_=y}getEvent(t){return this._events_[t]}}const j=(t,e)=>{let n=-1;for(const r in t)if(++n,r===e)return n;return-1};class A{constructor(t,e){this.onChange=t,this.comp=e}create(t,e,n=""){const s=this.onChange,c=r(t);(e=e||(c?f:l(t))).forEach((t=>{this.comp._reactives_[n+t]=!0}));const i=_t(e),h=(t,e,r)=>{const o=`${n}${t}.`;return a((t=>{if(null!=r){const t=u(r,e=e||{});for(const n in t)s(`${o}${n}`,e[n],r[n])}})),this.create(e,null,o)};if(c){const e=new Proxy(t,{get:(t,e,r)=>i[e]?(...r)=>{const o=t[e](...r);return s(n+e,r),o}:Reflect.get(t,e,r),set:(t,e,r,o)=>{const c=t[e],i=Reflect.set(t,e,r,o);return s(`${n}update`,{key:e,value:r,oldValue:c}),i}});return e}const d=new Proxy(t,{deleteProperty(t,e){const r=j(t,e),o=Reflect.deleteProperty(t,e);return s(`${n}delete`,{key:e,index:r}),o},set:(t,e,r,c)=>{const a=t[e];let l;const u=()=>{if(o(r)){const n=h(e,r,a);return Reflect.set(t,e,n,c)}return Reflect.set(t,e,r,c)};return i[e]?(l=u(),s(n+e,r,a),n&&s(`${n}update`,{key:e,value:r,oldValue:a}),l):n?(l=u(),void 0!==a?t.hasOwnProperty(e)&&s(`${n}update`,{key:e,value:r,oldValue:a}):s(`${n}add`,{value:r,key:e}),l):Reflect.set(t,e,r,c)}});return e.forEach((e=>{o(t[e])&&(t[e]=h(e,t[e],null))})),d}destroy(){this.onChange=null}}function T(t,e){t.reduce(((t,e)=>t.then((t=>e.call(this,t)))),k(e))}const O="invalid_formatter",P="prop_data_type_mismatch";var M;new Set([]),function(t){t.Create="create",t.Destroy="destroy",t.Update="update",t.Mount="mount",t.Error="error"}(M||(M={}));class N{constructor(){this.isMounted=!1;const t=this,e=()=>y;yt(t,"children",e),yt(t,"_formatters_",e),yt(t,"_directive_",e),yt(t,"_props_",e),yt(t,"_computed_",e),yt(t,"_reactives_",e),t._evBus_=new C(t._events_),t._watchBus_=new C(t._watchers_),t._childComps_=new Set}onInit(){}setState(t,...e){const n=t.split("."),r=this,o=(e,n,o)=>{r._reactives_[t]||pt.call(r,e,n,o)},s=e[0];let c;if(n.length>1){const i=r.getState(t),a=n.pop(),l=n.join("."),h=l+".",u=r.getState(l);"function"===R(i)?(u[a](...e),o(h+a,e)):(c=u&&u[a],u[a]=s,void 0!==c?o(`${h}update`,{key:a,value:s,oldValue:c}):o(`${h}add`,{value:s,key:a}))}else c=r[t],r[t]=s,o(t,s,c)}deleteState(t){const e=t.split("."),n=e.pop(),r=e.join("."),o=r+".",s=this.getState(r),c=j(s,n);Reflect.deleteProperty(s,n),pt.call(this,o+"delete",{index:c,key:n})}watch(t,e){return this._watchBus_.on(t,e)}unwatch(t,e){this._watchBus_.off(t,e)}on(t,e){return this._evBus_.on(t,e)}off(t,e){this._evBus_.off(t,e)}waitFor(t){let e;return new Promise((n=>{e=t=>{n(t)},this.on(t,e)})).then((()=>{this.off(t,e)}))}emit(t,...e){return this._evBus_.emit(t,...e)}emitLinear(t,...e){return this._evBus_.emitLinear(t,...e)}find(t){const e=this.element;if(8!==e.nodeType)return e.querySelector(t)}findAll(t){return this.element.querySelectorAll(t)}get outerHTML(){return this.element.outerHTML}format(t,e){const n=this._app_._formatter_;try{const r=n[t];if(r)return r(e);const o=this._formatters_[t];if(o)return o(e)}catch(t){return V.call(this,t,!0)}new D(O,{formatter:t}).throwPlain()}getState(t){return vt(t,this)}get global(){return this._app_.global}getMethod(t){return this[t]}}N.shouldCheckProp=!0;class ${}const S=t=>document.createComment(t||""),L=M.Update,B="_timerId_",W=t=>{if(t.isMounted){const e=t[B];clearTimeout(e),t[B]=setTimeout((()=>{t.emit(L)}))}};function V(t,e){e&&console.error(t),this._app_.emit(M.Error,t),this.emit(M.Error,t)}const I="Mahal";class D{constructor(t,e){this.type=t,this.info_=e,this.msg=this.getMsg_()}logError(){D.error(this.get())}logPlainError(){D.error(this.getPlain())}logWarning(){D.warn(this.get())}get(){return{msg:this.msg,type:this.type}}getPlain(){const t=this.get();return` ${t.msg}\n\ntype : ${t.type}`}getMsg_(){const t=this.info_,e={[P](){let e=`Expected datatype of property ${t.prop} is ${t.exp} but received ${t.got}.\n\n`;return t.template&&(e+=`in template -\n\n"${t.html}"\n\n`),t.file&&(e+=`in file - ${t.file} `),e},[O]:()=>`Can not find formatter "${t.formatter}". Make sure you have registered formatter either in component or globally.`}[this.type];return e?e(this):this.msg}static warn(...t){console.warn(`{${I} warn}:`,...t)}static error(...t){console.error(`{${I} error}:`,...t)}throwPlain(t){const e=`{${I} throw}:`+this.getPlain();if(t)return e;throw e}}const z=t=>t[p];function F(t,e){const n=this;let o=S(),s=[o],c=n.getState(t);const i=new Map,l=(t,n)=>{const r=e(t,n);return i.set(z(r),r),et(r),r},u=t=>{it(t),i.delete(z(t))};g(c,((t,e)=>{const n=l(t,e);s.push(n)}));const d=r(c),p={[t]:(t,e)=>{f("reset",[e,t])},[`${t}.push`]:t=>{f("push",t)},[`${t}.add`]:t=>{f("add",t)},[`${t}.pop`]:()=>{const t=h(c);f("splice",[t,1])},[`${t}.shift`]:()=>{f("splice",[0,1])},[`${t}.unshift`]:t=>{f("splice",[0,0,t])},[`${t}.reverse`]:()=>{f("reset",[c,[]]),f("reset",[[],c])},[`${t}.splice`]:t=>{f("splice",t)},[`${t}.delete`]:t=>{f("splice",[t.index,1])},[`${t}.update`]:t=>{f("update",t)}};U(o,(()=>{o=null,g(p,((t,e)=>{n.unwatch(e,t)}))}));const f=(t,r)=>{const s=o.parentNode,p=s.childNodes,f=Array.prototype.indexOf.call(p,o),_={push(){const t=r,e=ht(),n=h(c)-t.length;g(t,((t,r)=>{const o=l(t,r+n);e.appendChild(o)})),at(s,e,p[f+1+n])},reset(){const t=r[0];c=r[1];const n=i.size,o=f+1,a=h(c);if(a>0){if(0===n)return r=c,_.push();let a=0;g(c,((n,c)=>{const h=e(n,c,!0),u=t[c];if(u){const t=e(u,c,!0),d=i.get(t);if(i.has(h)){if(n!==u){const e=i.get(h);h!==t?at(s,e,p[o+a+1]):(r={key:c,value:n,oldValue:u},_.update())}}else{i.delete(t);const e=l(n,c);ct(d,e)}}else{const t=e(n,c);at(s,t,p[o+a]),i.set(h,t)}++a}))}for(let t=a;t<n;t++){const t=p[o+a];u(t)}},add(){const t=h(c),e=l(r.value,r.key);at(s,e,p[f+t])},splice(){const t=f+r[0]+1;for(let e=1;e<=r[1];e++){const e=p[t];e&&u(e)}if(!d)return;const n=ht(),o=r.length,a=new Map;for(let t=2,e=r[0];t<o;t++,e++){const o=l(r[t],e);n.appendChild(o);const s=z(o);a.set(s,!0)}const h=f+1;at(s,n,p[h+r[0]]);const _=o-2+r[0],m=h+r[0]+o-2;for(let t=0,n=c.length-_;t<n;t++){const n=_+t,r=c[n],o=e(r,n,!0),s=p[m+t],h=z(s);if(h!==o){const t=l(r,n);ct(s,t),a.set(o,!0),a.has(h)||i.delete(h)}}},update(){let t,e=r.key;if(d?e=t=Number(e):t=j(c,e),t<0)return;const n=p[f+1+t],o=n._rc_,s=r.oldValue,i=r.value;n._setVal_(i),o.forEach(((t,e)=>{const n=vt(e,i);vt(e,s)!==n&&t.forEach((t=>{t(n)}))}))}};a((e=>{try{_[t](),W(n)}catch(t){V.call(n,t)}}))};return n.watch(t,p[t]),_.forEach((e=>{const r=`${t}.${e}`;n.watch(r,p[r])})),a((t=>{s=null})),s}N.prototype._handleExp_=function(t,e,n){const r=this;if("for"===n)return F.call(r,e[0],t);let o=t();if(0===e.length)return o;const s=[];et(o);const c=()=>{s.shift();const n=()=>{try{const e=t();st(r,o,e)?(s.shift(),W(r)):et(e)}catch(t){V.call(r,t)}},i=()=>{s.push(1),1===s.length&&n()};e.forEach((t=>{r.watch(t,i)})),U(o,(()=>{e.forEach((t=>{r.unwatch(t,i)}));const t=o[d];t&&(o=t,c())})),s.length>0&&n(),W(r)};return c(),o};const H="__destroyEvents__",U=(t,e)=>{a((n=>{let r=t[H];r||(t[H]=r=[]),r.push(e),t.dispatchEvent(new window.CustomEvent(v,{bubbles:!0}))}))},q=(t,e)=>{const n=t[H];n&&(n.forEach((t=>{t()})),t._comp_destroyed_)||e&&t.childNodes.forEach((t=>{q(t,!0)}))},G=t=>{a((e=>{q(t,t[m])}))};N.prototype._handleAttr_=function(t,e,n){const r=n.attr,o={attr:{}},s=(e,n)=>{const r=t._props_[e];if(r){const o=n.v;if(r.type){const t=r.type,n=R(o);t!==n&&this.waitFor(M.Mount).then((r=>{new D(P,{prop:e,exp:t,got:n,html:this.outerHTML,file:this.file_}).logPlainError()}))}return t[e]=o,!0}{const t=o[n.k?"rAttr":"attr"];if("class"===e&&t[e]){let r;r="string"===R(t[e].v)?Object.assign({[t[e].v]:!0},n.v):Object.assign({[n.v]:!0},t[e].v),t[e]={v:r}}else t[e]=n}};r&&x(r,e?(t,e)=>{s(t,e)}:(e,n)=>{E(t,e,n.v)});const c=n.rAttr;if(!c)return o;o.rAttr={};const i=e?(t,e)=>(n,r)=>{N.shouldCheckProp=!1,r.setState(t,e.v),N.shouldCheckProp=!0}:(t,e)=>(n,r)=>{E(r,t,e.v),W(this)},l=new Map,h=t=>{U(t,(()=>{l.forEach(((t,e)=>{this.unwatch(e,t)}))}))},u=(e,r)=>{const o=r.rc;o&&n.rcm()(o,(n=>{i(e,r)(n,t)}))},d=(e,n)=>{const r=n.k;if(!r)return;const o=i(e,n);r.forEach((e=>{const n=e=>{a((n=>{o(e,t)}))};this.watch(e,n),l.set(e,n)}))};if(e)return x(c,((t,e)=>{s(t,e)&&d(t,e),u(t,e)})),l.size>0&&a((e=>{h(t.element)})),o;x(c,((e,n)=>{const r=n.v;E(t,e,r),d(e,n),u(e,n)})),l.size>0&&h(t)},N.prototype._handleDir_=function(t,e,n,r){e&&g(e,((e,o)=>{const s=this._directive_[o]||this._app_._directive_[o];if(!s)return;e.isComponent=n;const c=s.call(this,t,e),i=e.rc;i&&c&&r()(i,(t=>{c.valueUpdated()})),a((r=>{const o=n?t.element:t;if(!c||!o.isConnected)return;c.inserted&&c.inserted();const s=e.props,i=c.valueUpdated;if(0===s.length||null==i)return;const l=[];U(o,(()=>{s.forEach(((t,e)=>{this.unwatch(t,l[e])})),c.destroyed&&c.destroyed()})),s.forEach(((t,n)=>{const r=t=>{a((r=>{o.isConnected&&(e.value[n]=t,i())}))};this.watch(t,r),l.push(r)}))}))}))};const K=function(t,e){if(t)for(const n in t){const r=t[n];e(n,1===r.length?r[0].bind(this):t=>{T.call(this,r,t)})}},X=(t,e)=>{t.element=e,t.isMounted=!0,t.emit(M.Mount)},Y=function(t,e,n){switch(t){case null:case void 0:return S();case"in-place":return Q.call(this,e,n);default:const r=this,o=r.children[t]||r._app_._component_[t];if(o){const t=t=>{const o=ft(t,r._app_),s=r._initComp_(o,n);let c=ot(o);return"SLOT"===c.tagName?c=e[0]:((t,e)=>{if(!t.tagName)return;let n=ut(t,"slot");if(n){const r=t.querySelectorAll("slot"),o=ht(),s=t=>{o.appendChild(t)};let c=0;const i=()=>{o.firstChild||n.childNodes.forEach(s),at(n.parentElement,o,n.nextSibling),n.remove(),++c,n.deleted=!0};e.forEach((e=>{if("TARGET"===e.tagName){const r=ut(t,`slot[name='${b(e,"name")}']`);r!==n&&(n.done&&i(),n=r),n.done=!0,e.childNodes.forEach(s)}else"default"!==b(n,"name")&&(n=ut(t,"slot[name='default']")),s(e)})),i(),r.length!==c&&r.forEach((t=>{t.deleted||(n=t,i())}))}})(c,e),s&&r._handleAttr_(c,!1,s),X(o,c),c},s=J(o);if(s instanceof Promise){const e=S();return s.then((n=>{const o=t(n);st(r,e,o)})).catch((t=>{V.call(r,t,!0)})),e}return t(s)}const s=document.createElement(t);return e.forEach((t=>{s.appendChild(t)})),n&&(r._handleAttr_(s,!1,n),K.call(r,n.on,((t,e)=>{lt(s,t,e)})),r._handleDir_(s,n.dir,!1,n.rcm)),s}},J=t=>t instanceof Promise?t.then((t=>t.default)):t.isLazy?J(t.component()):t;function Q(t,e){var n;const r=null===(n=e.rAttr)||void 0===n?void 0:n.of;if(!r)return S();delete e.rAttr.of;const o=r.k||[];return this._handleExp_((()=>Y.call(this,r.v,t,e)),o)}const Z=M.Destroy;function tt(){const t=this;t.element._comp_destroyed_=!0,t._childComps_.forEach((t=>{G(t.element)})),t.emit(Z).then((e=>{clearTimeout(t._timerId_),t._evBus_.destroy(),t._watchBus_.destroy(),t._ob_&&t._ob_.destroy(),t.element=t._evBus_=t._ob_=null}))}const et=t=>{lt(t,v,(e=>{e.target!==t&&(e.stopImmediatePropagation(),t[m]=!0)}))},nt={createTextNode:t=>document.createTextNode(t),addRc:function(t,e){t.forEach((t=>{const n=this.get(t);n?n.push(e):this.set(t,[e])}))},createTextNodeWithRc:(t,e,n)=>(n(t,(t=>{e.nodeValue=t})),e),handleExpWithRc:(t,e,n)=>{let r=e();return n(t,(()=>{const t=e();ct(r,t)||(r._setVal_&&(t._setVal_=r._setVal_,t._rc_=r._rc_,t[p]=r[p]),r=t)})),r},createEl:Y,handleForExpWithRc:(t,e,n)=>{let r=e();return n(t,(()=>{const t=r[0];for(let t=1,e=r.length;t<e;t++){const e=r[t];it(e)}const n=e(),o=ht();o.append(...n),ct(t,o),r=n})),r}},rt=(t,e)=>{U(e,(()=>{t.element!==e||t.element._comp_destroyed_||tt.call(t)}))},ot=t=>{const e=t._render_().call(t,nt);return rt(t,e),e};function st(t,e,n){if(e===t.element){t.element=n,rt(t,n);const r=t._app_.component;r.element===e&&(r.element=n,rt(r,n))}return ct(e,n)}N.prototype._render_=function(){return this.render||this._app_._compileTemplate_(this.template)};const ct=(t,e)=>{const n=t.nodeType;if(3===n&&e.nodeType===n)return t.nodeValue=e.nodeValue,!0;t[d]=e,G(t),t.replaceWith(e)},it=t=>{G(t),t.remove()},at=(t,e,n)=>{t.insertBefore(e,n)},lt=(t,e,n,r)=>{t.addEventListener(e,n,r)},ht=()=>document.createDocumentFragment(),ut=(t,e)=>t.querySelector(e);function dt(t,e){let n;t.onInit();const r=this._childComps_;t.on("destroy",(()=>{r.delete(t)})),r.add(t),e&&(n=this._handleAttr_(t,!0,e),this._handleDir_(t,e.dir,!0),K.call(this,e.on,((e,n)=>{t.on(e,n)})));const o=t._computed_;for(const e in o){const n=o[e];let r=n.fn.call(t);Object.defineProperty(t,e,{get:()=>r,set(t){r=t}}),n.args.forEach((o=>{let s=[o];switch(R(t[o])){case"array":case"object":s=s.concat(_.map((t=>`${o}.${t}`)))}s.forEach((o=>{t.watch(o,(()=>{const o=n.fn.call(t);t.setState(e,o,r),r=o}))}))}))}return t.emit(M.Create),n}function pt(t,e,n){e!==n&&this._watchBus_.emitAll(t,e,n)}N.prototype._initComp_=dt;const ft=(t,e)=>{let n=new t;const r=l(n._reactives_);return n._app_=e,r.length>0&&(n=new A(pt.bind(n),n).create(n,r)),n._watchBus_._ctx_=n,n._evBus_._ctx_=n,n},_t=t=>{const e={};return t.forEach((t=>{e[t]=!0})),e},mt=t=>{if("function"===R(t))return{isLazy:!0,component:t}},vt=(t,e)=>t?t.split(".").reduce(((t,e)=>t&&t[e]),e):e,yt=(t,e,n)=>{t[e]=t[e]||n()};function gt(t,e){if(!(t.length>=2))return(n,r)=>{e(n,r,t[0])};{const[n,r]=t;e(n,r,null)}}function bt(...t){return gt(t,wt)}function wt(t,e,n){const r={};yt(t,"_props_",(()=>r)),"function"===R(n)&&(n=n.name.toLowerCase()),n&&!n.type&&(n={type:n}),t._props_[e]=n||{}}const Et=t=>e=>class extends e{constructor(){super(...arguments),this.children=t}};function xt(...t){return gt(t,Rt)}function Rt(t,e,n){const r={};yt(t,"_formatters_",(()=>r)),t._formatters_[n||e]=t[e]}const kt=(t,e)=>{const n={};yt(t,"_reactives_",(()=>n)),t._reactives_[e]=!0};function Ct(...t){return gt(t,jt)}function jt(t,e,n){const r={};yt(t,"_directive_",(()=>r)),t._directive_[n||e]=t[e]}const At=(...t)=>(e,n,r)=>{const o={};yt(e,"_computed_",(()=>o)),e._computed_[n]={args:t,fn:r.value||r.get}},Tt=function(t,e){const n=e.props[0];return this[n]=t,{destroyed:()=>{this[n]=null}}};class Ot extends N{render(){return Y.call(this,"slot",[])}}const Pt=(t,e)=>{const n=e.params;lt(t,n[0],n[1],n[2])};class Mt{constructor(t,e){if(this.global={},this.extend={plugin:(t,e)=>{const n=(new t).setup(this,e);if(n&&o(n))for(const t in n){const e=n[t];"function"===R(e)&&(N.prototype[t]=e)}this._plugins_.push(t)},component:(t,e)=>{this._component_[t]=e},formatter:(t,e)=>{this._formatter_[t]=e},directive:(t,e)=>{this._directive_[t]=e},setRenderer:t=>{this._compileTemplate_=t},tag(t){}},this._plugins_=[],this._component_={fragment:Ot},this._directive_={},this._formatter_={},this.element="string"===R(e)?ut(document,e):e,null==this.element){const t="mahal-app";let e=ut(document,t);e?e.innerHTML="":(e=document.createElement("div"),e.id=t,document.body.appendChild(e)),this.element=e}const n=this.extend.directive;var r;n("model",(r="value",function(t,e){const n=e.props[0],o=e.isComponent;let s;const c=o?r:(()=>{switch(s=b(t,"type"),s){case"checkbox":case"radio":return"checked";default:return"value"}})(),i={k:[n],get v(){const n=e[r][0];return"radio"===s?n===t.value:n}};this._handleAttr_(t,o,{rAttr:{[c]:i}});const a=t=>{e[r]=[t]};o?t.on("input",(t=>{a(t)})):lt(t,"input",(t=>{a(t.target["checkbox"===s?"checked":"value"])}))})),n("ref",Tt),n("on",Pt),this._createComponent_(t)}_createComponent_(t){const e=this.component=ft(t,this),n=t=>t.bind(e);this.on=n(e.on),this.off=n(e.off),this.emit=n(e.emit)}create(t){let e=this.component;dt.call(e,e,t);const n=ot(e);return this.element.innerHTML="",this.element.appendChild(n),X(e,n),k(e)}}t.exports=n})()},427:(t,e,n)=>{t.exports=n(236)},13:(t,e,n)=>{"use strict";var r=n(427);class o extends r.Component{constructor(){super(...arguments),this.appName="Mahal",this.importantLinks=[{label:"Core Doc",path:"https://ujjwalguptaofficial.github.io/mahal-doc/"},{label:"Examples",path:"https://github.com/ujjwalguptaofficial/mahal-examples"},{label:"Blog",path:"https://medium.com/mahal-js"}]}onInit(){console.log("component initiated"),this.on("create",this.created),this.on("mount",this.mounted),this.on("destroy",this.destroyed)}created(){console.log("component created")}mounted(){console.log("component mounted - UI has been rendered")}destroyed(){console.log("component destroyed - Let's unsubscribe to events")}}!function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);s>3&&c&&Object.defineProperty(e,n,c)}([r.reactive,function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],o.prototype,"appName",void 0);var s=n(108);const c=(0,s.S)({script:o,render:function(t){const e=this,n=t.createEl.bind(e),r=t.createTextNode,o=t.addRc,s=t.createTextNodeWithRc;return t.handleExpWithRc,t.handleForExpWithRc,n("div",[n("img",[],{attr:{class:{v:"mahal-app_logo"},src:{v:"img/mahal-logo.png"},alt:{v:"mahal logo"}}}),n("h1",[r("Welcome to the "),e._handleExp_((()=>r(e.appName)),["appName"]),r(" App")]),n("div",[r(" Important Links\t")],{attr:{class:{v:"mahal-app_imp-links-label"}}}),n("div",[...e._handleExp_(((t,e,c)=>{let i;const a={attr:{target:{v:"_blank"}},rAttr:{href:{get v(){return t.path},rc:["path"]}},rcm:()=>i};let l=a.rAttr;return l||(l=a.rAttr={}),l.key||(l.key={v:e}),c?l.key.v:(()=>{const e=new Map;i=o.bind(e);const c=n("a",[s(["label"],r(t.label),i)],a);return c._rc_=e,c._setVal_=e=>{t=e},c})()}),["importantLinks"],"for")],{attr:{class:{v:"mahal-app_imp-links"}}})],{attr:{class:{v:"mahal-app"}}})}});var i=n(462),a=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};class h extends r.Component{constructor(){super(...arguments),this.selected=!1}onInit(){}selectColor(t){this.selected=!this.selected,this.emit("selected",this.color,this.selected)}}a([(0,r.prop)(),l("design:type",Object)],h.prototype,"color",void 0),a([r.reactive,l("design:type",Object)],h.prototype,"selected",void 0);const u=(0,s.S)({script:h,render:function(t){const e=this,n=t.createEl.bind(e);return t.createTextNode,t.addRc,t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[],{on:{click:[()=>e.selectColor(e.color)]},attr:{class:{v:"color ml-2"}},rAttr:{style:{get v(){return{background:e.color}},k:["color"]},class:{get v(){return{"color--selected":e.selected}},k:["selected"]}}})}});var d=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c};let p=class extends r.Component{onInit(){}selectColor(t,e){this.colors[t]=e}};d([(0,r.prop)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],p.prototype,"colors",void 0),p=d([(0,r.children)({Color:u})],p);const f=p,_=(0,s.S)({script:f,render:function(t){const e=this,n=t.createEl.bind(e),r=(t.createTextNode,t.addRc);return t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[...e._handleExp_(((t,o,s)=>{let c;const i={on:{selected:[e.selectColor]},rAttr:{color:{get v(){return o}}}};let a=i.rAttr;return a||(a=i.rAttr={}),a.key||(a.key={v:o}),s?a.key.v:(()=>{const t=new Map;c=r.bind(t);const e=n("Color",[],i);return e._rc_=t,e._setVal_=t=>{},e})()}),["colors"],"for")],{attr:{class:{v:"is-flex"}}})}});var m=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c},v=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};let y=class extends r.Component{constructor(){super(...arguments),this.colorRecom=new i.NeuralNetwork({hiddenLayers:[3],inputSize:3,outputSize:1}),this.results=[],this.inputs=[],this.selectedColors=[],this.isTrained=!1}onInit(){window.app=this;let t=105,e={};for(;0!=t;)e[this.generateNewColor()]=!1,t--,t%15==0&&(this.inputs.push(e),e={})}getRGBFromHash(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}run(t){const e=this.getRGBFromHash(t),n=[e[0]/255,e[1]/255,e[2]/255];return this.colorRecom.run(n)}train(){let t=0;const e=[];if(this.inputs.forEach((n=>{for(const r in n){const o=this.getRGBFromHash(r);e.push({input:[o[0]/255,o[1]/255,o[2]/255],output:(()=>n[r]?(t++,this.selectedColors.push(r),[1]):[0])()})}})),t<5)return void alert("Atleast 5 colors needed");const n=this.colorRecom.train(e,{iterations:1e4});if(console.log("state",n),n.error>.02)return alert("Could not run recommendation. Seems like there is no fixed pattern");this.isTrained=!0;const r=new Set,o=new Set(this.selectedColors);for(;r.size<6;){const t=this.generateNewColor();o.has(t)||this.run(t)[0]>.95&&r.add(t)}this.results=Array.from(r)}generateNewColor(){const t=[0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F"];function e(e){return t[e]}let n="#";for(let r=0;r<6;r++)n+=e(Math.floor(Math.random()*t.length));return n}};m([r.reactive,v("design:type",Object)],y.prototype,"results",void 0),m([r.reactive,v("design:type",Object)],y.prototype,"inputs",void 0),m([r.reactive,v("design:type",Object)],y.prototype,"selectedColors",void 0),m([r.reactive,v("design:type",Object)],y.prototype,"isTrained",void 0),y=m([(0,r.children)({ColorRow:_,Color:u})],y);const g=y,b=(0,s.S)({script:g,render:function(t){const e=this,n=t.createEl.bind(e),r=t.createTextNode,o=t.addRc;return t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,n("div",[e._handleExp_((()=>e.isTrained?n("div",[n("h1",[r("You have choosen")],{attr:{class:{v:"title is-size-4"}}}),n("div",[...e._handleExp_(((t,e,r)=>{let s;const c={rAttr:{color:{get v(){return t},rc:[""]}},rcm:()=>s};let i=c.rAttr;return i||(i=c.rAttr={}),i.key||(i.key={v:e}),r?i.key.v:(()=>{const e=new Map;s=o.bind(e);const r=n("Color",[],c);return r._rc_=e,r._setVal_=e=>{t=e},r})()}),["selectedColors"],"for")],{attr:{class:{v:"is-flex"}}}),n("h1",[r("Recommendations calculated")],{attr:{class:{v:"title is-size-4 mt-4"}}}),n("div",[...e._handleExp_(((t,e,r)=>{let s;const c={rAttr:{color:{get v(){return t},rc:[""]}},rcm:()=>s};let i=c.rAttr;return i||(i=c.rAttr={}),i.key||(i.key={v:e}),r?i.key.v:(()=>{const e=new Map;s=o.bind(e);const r=n("Color",[],c);return r._rc_=e,r._setVal_=e=>{t=e},r})()}),["results"],"for")],{attr:{class:{v:"is-flex"}}})],{attr:{class:{v:"mt-4"}}}):n("div",[n("h1",[r("Select your favourite colors")],{attr:{class:{v:"title is-size-4 mt-0 mb-1"}}}),...e._handleExp_(((t,e,r)=>{let s;const c={attr:{class:{v:"is-flex"}}};let i=c.rAttr;return i||(i=c.rAttr={}),i.key||(i.key={v:e}),r?i.key.v:(()=>{const e=new Map;s=o.bind(e);const r=n("div",[n("ColorRow",[],{rAttr:{colors:{get v(){return t},rc:[""]}},rcm:()=>s})],c);return r._rc_=e,r._setVal_=e=>{t=e},r})()}),["inputs"],"for"),n("div",[n("button",[r("I am done")],{on:{click:[e.train]},attr:{class:{v:"button is-primary is-large"}}})],{attr:{class:{v:"is-flex mt-4"}}})],{attr:{class:{v:"is-flex is-flex-direction-column is-align-items-center"}}})),["isTrained"])],{attr:{class:{v:"container is-flex is-flex-direction-column is-align-items-center mt-6"}}})}});let w=class extends r.Component{};w=function(t,e,n,r){var o,s=arguments.length,c=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,r);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(s<3?o(c):s>3?o(e,n,c):o(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c}([(0,r.children)({MahalIntro:c,ColorRecommendation:b})],w);const E=w,x=(0,s.S)({script:E,render:function(t){const e=t.createEl.bind(this);return t.createTextNode,t.addRc,t.createTextNodeWithRc,t.handleExpWithRc,t.handleForExpWithRc,e("div",[e("ColorRecommendation",[])])}});var R=n(12),k=n.n(R);const C=new r.Mahal(x,"#app");C.global.env=k(),C.create()}},t=>{t.O(0,[601],(()=>(13,t(t.s=13)))),t.O()}]);